# Критерии проверки: Backend Test Assignment (Go + PostgreSQL)

## Принцип оценки

Формат оценки: **Core (70 баллов) + Optional (30 баллов)**.  
Если optional не сделан, кандидат все равно может получить сильную оценку за качественный core.

Итог: **100 баллов**.

## Core — 70 баллов

### 1) Корректность create-flow — 25 баллов

Проверяем:
- корректные валидации и коды ошибок;
- предсказуемый happy-path;
- корректные статусы и ответы.

### 2) Консистентность и конкурентность — 25 баллов

Проверяем:
- защита от двойного списания;
- корректное использование транзакций/блокировок/ограничений;
- отсутствие race-condition в ключевом сценарии.

### 3) Идемпотентность — 15 баллов

Проверяем:
- повтор с тем же payload -> тот же результат;
- повтор с другим payload -> конфликт (`422` или эквивалент).

### 4) Минимальная инженерная гигиена — 5 баллов

Проверяем:
- структура кода читаемая;
- README объясняет ключевые решения;
- тесты запускаются по инструкции.

## Optional — 30 баллов

Проверяем:
- реализация `confirm` и корректность переходов статусов;
- ledger/аудитность операций;
- дополнительные тесты и логирование;
- качество аргументации trade-off'ов.

## Красные флаги

- двойное списание возможно при параллельных create;
- нет идемпотентности create;
- критичные инварианты держатся только в памяти процесса;
- отсутствуют тесты на критичные риски.

## Интерпретация итогового балла

- **85-100**: Strong hire
- **70-84**: Hire
- **55-69**: Borderline
- **<55**: No hire
